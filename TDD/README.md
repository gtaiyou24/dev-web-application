# TDD(Test Driven Development)
## TDDとは (テストコード作成 → 実装コード作成)
> ソフトウェアの設計・開発のための手法の一つで、テストを道具として利用する開発手法。<br>
> 従来のソフトウェア開発とは逆で、テストコードを先に作成したうえで、そのテストコードが正しく実行できるように、実装コードを作成していく。

**なぜTDDが注目されている？**<br>
実装コードよりも前にテストコードを作成することで、**外部から見るとどのように動作すべきかを先に考えることを強要される**。このような振る舞い重視の考え方によって

 - 「仕様を満たす最低限の実装」を考えることになり、**<font color="blue">シンプル設計</font>**が促進される
 - 一度作成したテストは、その後何度も実行され、**実行コードに不具合が発生していないかどうか**を確認する手段になる
 - ソフトウェアのオブジェクト化・コンポーネント化が促進される

## TDDの本質

 - TDDは設計手法である
     1. テストを書くことで、実装コードの振る舞いを明らかにしていく設計作業
     2. 進化的設計を前提としている
 - TDDは信頼性を積み重ねる開発手法である
     1. テストによって検証可能な実装を積み重ねる開発促進のための技法である
     2. テストは開発者自らが作成し、テスト範囲も開発者が決める
     3. 一定のリズムで実施するため、迅速なビルド・テスト環境が必要である

## TDDの進め方

 1. **ToDoリストを作成する**<br>
 実装すべき機能、作るべき振る舞いや作業を洗い出す（TDD実施中に思いついた作業があれば、随時ToDoリストに追加する）。
 2. **ToDoリストの1つを選択し、テストコードを作成する**<br>
 ToDoリストの中から最も簡単に実装できそうなものを選び、その機能が実現できたことを確認するためのテストを、実装コードより先に作成する（テストファースト）。
 3. [Red]**<font color="red">テストが失敗するような実装コードを書き、テストを実行する</font>**<br>
 あえてテストが失敗するような実装コードを書き、テストを実行する。この段階をレッド(Red)の状態と呼ぶ。レッドになるはずのテストがレッドにならない場合、テストか実装かどちらかが間違っていることになるので、見直しを行う。
 4. [Green]**<font color="green">テストが成功する最低限の実装コードを書き、テストを実行する</font>**<br>
 テストが通るための最低限の実装コードを書き、テストを実行する。この段階をグリーン(Green)の状態と呼ぶ。グリーンになるはずのテストがグリーンにならない場合も、テストか実装のどちらかが間違っていることになるので修正する。
 5. [Refactoring]**<font color="blue">実装コードをあるべき姿にリファクタリングし、テストを実行する</font>**<br>
 実装コードを本来あるべき形に変更し、実装コードを変更しても機能は満たせていることを、テストを実行して確認する。この段階をリファクタリングの状態と呼ぶ。
 6. **ToDoリストの選択②に戻る**<br>
 実装が完了したToDoをリストから削除し、次のToDoを選択する。残りToDoがなければ、完了。

---
## ソフトウェアテスト

### テストの種類

 1. **ユニットテスト**<br>
 単体のプログラム(クラスや関数)のコードをチャックするテスト
 2. **受け入れテスト**<br>
 単体テストで検証したプログラムを組み合わせて行うテスト。複数のクラスやサブシステムなど、ひと回り大きなコードをチェックするテスト。
 3. **e2eテスト**<br>
 テストしているシステム全体をチェックするテスト。システムテストは、可能な限り、エンドユーザー環境に近い環境で行われる。

### テストタイプ

| テストタイプ | 概要 | 対象となる品質特性 | 用いられるテスト技法 |
|:----------:|:----:|:---------------:|:--------:|
| **機能テスト** | 仕様書通りに機能が実装されていることを確認 | 機能適合性 | 同値分割/境界値分析/状態遷移テスト/組み合わせテスト/シナリオテスト/ステートメントテスト/デシジョンテーブルテスト |
| **性能テスト** | 機能要求に定義された効率性(時間、資源)で動作することを確認<br>(ex:検索ボタンを押してから検索結果が表示されるまで3秒以内であること) | 性能効率性 | 境界値分析/組み合わせテスト/ランダムテスト |
| **セキュリティテスト** | プログラムやデータ等について<br>規定された機密保護レベルをクリアしていることを確認する | セキュリティ | デシジョンテーブルテスト/ランダムテスト |
| **ユーザビリティテスト** | ユーザが快適にそのシステムを使用できるかを確認する<br>操作性、視認性等、ユーザ視点による(作り手の視点だけでは認識しにくい)システムの課題を抽出することができる | 使用性 | 同値分割/境界値分割/状態遷移テスト/ランダムテスト |
| **負荷テスト** | 大量のデータを投入し、想定されるユーザ数による運用、かつ高い負荷をかけた状態でシステムが正常に機能するかを確認する。単体テストや結合テストでは検出されないが、本番運用下では発生し得る不具合を抽出することができる | 信頼性 | 組合せテスト設計技法/シナリオテスト/ランダムテスト |
| **排他テスト** | イベントが競合した場合の排他処理に問題がないかを確認する。具体的には、同一のデータを複数ユーザが同時に変更しようとした場合にロックが正しく行われるか(ロックに成功したユーザのみがデータを変更でき、それ以外のユーザに対してはエラー通知が行われる)等が該当する | 信頼性 | - |
| **確認テスト** | 不具合の修正が行われ、不具合が解消されているかどうかを確認する。一般的に不具合箇所の周辺に限定して確認を行います。 | 機能適合性 | - |
| **回帰テスト** | 不具合の修正によって新たな不具合が発生していないかを確認する。<br>修正の影響がどこまで波及するか分からない為、理想としては全範囲を対象として再テストすべきですが、現実的には影響が大きいと考えられる部分に限定して実施する。 | 機能適合性 | - |
| **互換性テスト** | 対象のシステムが複数種類の環境下(OS,ブラウザ,フレームワーク等)での動作を保証する場合、どの環境においても正常に動作することを確認する | 互換性 | - |
| **保守性テスト** | システムに不具合が発生した場合の原因の特定および修正や、新しい機能の追加が容易であるかを確認する | 保守性 | - |
| **移植性テスト** | システムを別のサーバや環境に移植する作業が容易であるかを確認する | 移植性 | - |

### テスト技法

#### ホワイトボックステスト
プログラムの内部構造に注目したテスト。

#### ブラックボックステスト
プログラムの入出力だけに注目し仕様通りにプログラムが動作するか（もしくは仕様通りに動作しないか）をテストする

